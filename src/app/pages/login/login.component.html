<script src="https://accounts.google.com/gsi/client" async></script>
<button (click)="goBack()" class="back-button">
  &#8592; Back
</button>
<div class="content">
    <div class="title">
        Conectează-te
    </div>
        <div class="login-container">
            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                <div class="form-group">
                  <label>Email</label>
                  <input type="email" formControlName="email" class="form-input"/>
                  <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" class="error">
                    <small *ngIf="loginForm.get('email')?.errors?.['required']">Emailul este obligatoriu</small>
                    <small *ngIf="loginForm.get('email')?.errors?.['email']">Format invalid.</small>
                  </div>
                </div>
            
                <div class="form-group">
                  <label>Parolă</label>
                  <div class="password-wrapper">
                    <input [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-input"/>
                    <button type="button" class="eye-btn" (click)="togglePasswordVisibility()">
                      <i [class]="showPassword ? 'fa fa-eye' : 'fa fa-eye-slash'"></i>
                    </button>
                  </div>
                  <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="error">
                    <small *ngIf="loginForm.get('password')?.errors?.['required']">Parola este obligatorie</small>
                    <small *ngIf="loginForm.get('password')?.errors">
                        {{ loginForm.get('password')?.errors?.['passwordStrength'] }}
                      </small>
                  </div>
                </div>
            
                <div class="form-group">
                  <re-captcha formControlName="recaptcha" [siteKey]="captchaKey"></re-captcha>
                  <div *ngIf="loginForm.get('recaptcha')?.invalid && loginForm.get('recaptcha')?.touched" class="error">
                    <small>Recaptcha is required.</small>
                  </div>
                </div>
                <button type="submit" class="login" [disabled]="loginForm.invalid">Conectează-te</button>
              </form>

    
        Nu ai cont?
        <a routerLink="/register" routerLinkActive="active-link" [routerLinkActiveOptions]="{ exact: true }" class="register-link" (click)="navigateAndRefresh()">
            Înregistrează-te
        </a>
    </div>
    <div class="horisontal-lines">
      sau
    </div>
    <div id="google-signin-button"></div>

</div>