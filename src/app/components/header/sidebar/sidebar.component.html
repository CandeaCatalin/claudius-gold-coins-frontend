<aside
  class="sidebar"
  role="complementary"
  aria-label="Mobile sidebar navigation"
>
  <button
    class="close-btn"
    type="button"
    aria-label="Închide meniul"
    (click)="close()"
  >
    ×
  </button>

  <nav class="navbar" aria-label="Mobile main navigation">
    <ul class="menu" role="menubar">
      @for (menuItem of menuItems; track $index) {
      <li class="menu-item" role="none">
        @if (menuItem.isInternal) {
        <ng-container>
          <a
            [routerLink]="menuItem.link"
            routerLinkActive="active-link"
            [routerLinkActiveOptions]="{ exact: true }"
            class="menu-link"
            (click)="close()"
            role="menuitem"
            [attr.tabindex]="menuItem.orderIndex"
            [attr.aria-haspopup]="menuItem.childs.length > 0 ? 'true' : null"
            [attr.aria-expanded]="menuItem.childs.length > 0 ? 'false' : null"
          >
            {{ menuItem.name }}
          </a>

          @if (menuItem.childs.length > 0) {
          <ul class="dropdown-menu" role="menu">
            @for (childItem of menuItem.childs; track $index) {
            <li role="none">
              <a
                class="dropdown-item"
                [routerLink]="childItem.link"
                (click)="close()"
                role="menuitem"
                [attr.tabindex]="childItem.orderIndex"
              >
                {{ childItem.name }}
              </a>
            </li>
            }
          </ul>
          }
        </ng-container>
        }@else {
        <a
          class="menu-link"
          [href]="menuItem.link"
          target="_blank"
          rel="noopener"
          role="menuitem"
          [attr.tabindex]="menuItem.orderIndex"
        >
          {{ menuItem.name }}
        </a>
        }
      </li>
      }
    </ul>
  </nav>
  <app-user-actions-header></app-user-actions-header>
</aside>
